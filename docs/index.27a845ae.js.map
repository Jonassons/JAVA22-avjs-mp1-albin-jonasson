{"mappings":"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","sources":["src/js/highscore.js","src/main.js","src/js/displayHighscore.js"],"sourcesContent":["async function highscore() {\n    const url = \"https://highscore-209dc-default-rtdb.europe-west1.firebasedatabase.app/highscore.json\";\n    const response = fetch(url);\n    const data = await (await response).json();\n    console.log(data);\n    return data;\n}\n\nexport { highscore };\n\nexport async function patchFirebase(data){\n    const url = \"https://highscore-209dc-default-rtdb.europe-west1.firebasedatabase.app/.json\";\n\n    const newScore = {\n        highscore: data\n    }\n    const options = {\n        method: \"PATCH\",\n        body: JSON.stringify(newScore),\n        headers: {\n            \"Content-type\": \"application/json; charset=UTF-8\" \n        }\n    }\n    const response = await fetch(url, options);\n    const newdata = await response.json();\n    console.log(data);\n}","import { highscore } from \"./js/highscore.js\";\nimport { dispayHighscore} from \"./js/displayHighscore.js\";\nimport { patchFirebase} from \"./js/highscore.js\";\n\nhighscore().then(dispayHighscore); \n\nlet choices = document.querySelectorAll(\".choice\");\nlet restart = document.querySelector(\"#restart\");\nlet result = document.querySelector(\"#result\");\nlet scores = document.querySelector(\"#scores\");\nlet name = document.querySelector(\"#name\");\nlet computerScore = 0;\nlet playerScore = 0;\nlet gameOver = false;\nlet highscoreData = [];\n\n\nconst form = document.getElementById(\"myForm\");\nconst nameDisplay = document.getElementById(\"nameDisplay\");\n\nhighscore().then(function(listData){\n    highscoreData = listData;\n})\nconsole.log(highscoreData);\nform.addEventListener(\"submit\", function (event) {\n    event.preventDefault();\n    const name = document.getElementById(\"name\");\n    if (!name.value) {\n        alert(\"Please enter name before playing!\");         // ger alert ifall man inte angett nÃ¥got i namn rutan\n\n        return;\n\n    }\n    nameDisplay.innerHTML = \"Welcome to the game \" + name.value + \" !\";\n\n    choices.forEach(choice => {\n        choice.style.pointerEvents = \"auto\";    // enable choice buttons\n    });\n});\nchoices.forEach(choice => {\n    choice.style.pointerEvents = \"none\";        //disables choice buttons\n});\n\n\nchoices.forEach(choice => {\n    choice.addEventListener(\"click\", function () {\n\n        if (gameOver) return;\n\n\n        let computerChoice = Math.random();\n        if (computerChoice < 0.34) {\n            computerChoice = \"rock\";\n        } else if (computerChoice <= 0.67) {\n            computerChoice = \"paper\";\n        } else {\n            computerChoice = \"scissors\";\n        }\n        let userChoice = this.id;\n        let compare = function (choice1, choice2) {\n            if (choice1 === choice2) {\n                return \"The result is a tie!\";\n            }\n            if (choice1 === \"rock\") {\n                if (choice2 === \"scissors\") {\n                    playerScore++;\n                    return \"rock wins\";\n                } else {\n                    computerScore++;\n                    highscoreData.push({name: name.value, score: playerScore});\n                    highscoreData.sort((a, b) => b.score - a.score);\n                    highscoreData.pop();\n                    patchFirebase(highscoreData);\n                    return \"paper wins\";\n                }\n            }\n            if (choice1 === \"paper\") {\n                if (choice2 === \"rock\") {\n                    playerScore++;\n                    return \"paper wins\";\n                } else {\n                    if (choice2 === \"scissors\") {\n                        computerScore++;\n                        highscoreData.push({name: name.value, score: playerScore});\n                        highscoreData.sort((a, b) => b.score - a.score);\n                        highscoreData.pop();\n                        patchFirebase(highscoreData);\n                        return \"scissors wins\";\n                    }\n                }\n            }\n            if (choice1 === \"scissors\") {\n                if (choice2 === \"rock\") {\n                    computerScore++;\n                    highscoreData.push({name: name.value, score: playerScore});\n                    highscoreData.sort((a, b) => b.score - a.score);\n                    highscoreData.pop();\n                    patchFirebase(highscoreData);\n                    return \"rock wins\";\n                } else {\n                    if (choice2 === \"paper\") {\n                        playerScore++;\n                        return \"scissors wins\";\n                    }\n                }\n            }\n        };\n\n        let winner = compare(userChoice, computerChoice);\n        result.innerHTML = `You chose ${userChoice}, the computer chose ${computerChoice}. ${winner}`;\n        scores.innerHTML = `${name.value} : ${playerScore} - Computer : ${computerScore}`;\n\n\n\n        if (computerScore === 1) {\n            result.innerHTML = `Computer wins!`;\n            playerScore = 0;\n            computerScore = 0;\n            gameOver = true;\n            alert(`Computer wins!` + \" Press Restart button to play again!\");\n            location.reload();\n        }\n    });\n});\n\n\n\nrestart.addEventListener(\"click\", function () {\n    location.reload();\n});","function dispayHighscore(highscore){    \n    highscore.forEach(element => {\n        console.log(element);\n        const name = document.createElement(\"h1\");\n        const score = document.createElement(\"h1\");\n        document.body.append(name);\n        document.body.append(score);\n        name.innerText = element.name;\n        score.innerText = element.score;\n    });\n    return highscore;\n}\n\nexport{dispayHighscore};"],"names":["async","$7da5ecdc6a84fc4a$export$cb04e2afe89c051f","response","fetch","data","json","console","log","$7da5ecdc6a84fc4a$export$8c34ae3b385bb2fa","newScore","highscore","options","method","body","JSON","stringify","headers","then","forEach","element","name","document","createElement","score","append","innerText","$d6204fa0bd1b2c46$var$choices","querySelectorAll","$d6204fa0bd1b2c46$var$restart","querySelector","$d6204fa0bd1b2c46$var$result","$d6204fa0bd1b2c46$var$scores","$d6204fa0bd1b2c46$var$name","$d6204fa0bd1b2c46$var$computerScore","$d6204fa0bd1b2c46$var$playerScore","$d6204fa0bd1b2c46$var$gameOver","$d6204fa0bd1b2c46$var$highscoreData","$d6204fa0bd1b2c46$var$form","getElementById","$d6204fa0bd1b2c46$var$nameDisplay","listData","addEventListener","event","preventDefault","value","innerHTML","choice","style","pointerEvents","alert","computerChoice","Math","random","userChoice","this","id","winner","choice1","choice2","push","sort","a","b","pop","compare","location","reload"],"version":3,"file":"index.27a845ae.js.map"}